/*
 * Stm32_F103C6_gpio_driver.c
 *
 *  Created on: Sep 18, 2021
 *      Author: hassan
 */

#include"Stm32f103x6.h"
#include"Stm32_F103C6_RCC_driver.h"
//-----------------------------
/*
 * ===============================================
 * Generic Variables by "MCAL RCC DRIVER"
 * ===============================================
 */
const uint8_t APBprescTable[8U]={0,0,0,0,1,2,3,4};
//There is no division by 32 so 5 is not included for AHB
const uint8_t AHBprescTable[8U]={0,0,0,0,0,0,0,0,1,2,3,4,6,7,8,9};
/*
 * ===============================================
 * Generic Macros by "MCAL RCC DRIVER"
 * ===============================================
 */

/*
 * ===============================================
 * Generic Functions by "MCAL RCC DRIVER"
 * ===============================================
 */

/*
 * ===============================================
 * APIs Supported by "MCAL RCC DRIVER"
 * ===============================================
 */
uint32_t MCAL_RCC_GetSYS_CLK(void){

}
uint32_t MCAL_RCC_GetHCLK(void){
	return (MCAL_RCC_GetSYS_CLK() >> AHBprescTable[( (RCC->CFGR >>4) &0b1111 )]);
}
// bits 8 :10 PPRE1 APB1 prescaler
uint32_t MCAL_RCC_GetPCLK1(void){
	return (MCAL_RCC_GetHCLK() >> APBprescTable[( (RCC->CFGR >>8) &0b111 )]);
}
// bits 11 :13 PPRE1 APB2 prescaler
uint32_t MCAL_RCC_GetPCLK2(void){
	return (MCAL_RCC_GetHCLK() >> APBprescTable[( (RCC->CFGR >>11) &0b111 )]);
}
/**================================================================
 * @Fn-				MCAL_EXTI_Init
 * @brief -			Initialize Specific pin in the port to be used As EXTI
 * @param [in] -	Cofiguration structure
 * @param [out] -	None
 * @retval -			None
 * Note-				STM32F103C6 MCU has PORTS A,B,C,D,E
 * 					While LQFP84 Has only A,B and Part of C,D
 */

/**================================================================
 * @Fn-				MCAL_EXTI_DeInit
 * @brief -			Reset EXTI Registers and NVIC
 * @param [in] -		void
 * @param [out] -	void
 * @retval -			void
 * Note-				STM32F103C6 MCU has PORTS A,B,C,D,E
 * 					While LQFP84 Has only A,B and Part of C,D
 */
