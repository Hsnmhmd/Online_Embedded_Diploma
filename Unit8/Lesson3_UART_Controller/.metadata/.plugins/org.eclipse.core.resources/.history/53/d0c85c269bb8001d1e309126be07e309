/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Hassan Abd Eltawab
 ******************************************************************************
*/


#include"Stm32_F103C6_gpio_driver.h"
#include"Stm32_F103C6_UART_driver.h"
typedef volatile unsigned int vuint32_t;
#include<stdio.h>
#include <lcd.h>
#include"keypad.h"

void Clock_Init()
{
	RCC_GPIOA_CLK_EN();
	RCC_GPIOB_CLK_EN();
	RCC_AFIO_CLK_EN();
}
uint16_t ch;
void UART_IRQ_Callback(enum UART_IRQ_Event flag){
	MCAL_USART_Recieve(USART1, &ch, Disable);
	MCAL_USART_Send(USART1, &ch, Enable);

}



int main(void)
{

	UART_Config_t USART_ConFig ;
	Clock_Init();

	USART_ConFig.BaudRate= USART_BaudRate_9600;
	USART_ConFig.HWFlowCtl=USART_HwFlowCtl_NONE;
	USART_ConFig.IRQ_Enable=USART_IRQ_Enable_NONE;
	USART_ConFig.P_IRQ_CallBack = NULL ;
	USART_ConFig.Parity = USART_Parity_None ;
	USART_ConFig.Payload_Length=USART_Payload_Length8;
	USART_ConFig.StopBits=USART_StopBits_1 ;
	USART_ConFig.USART_Mode=USART_MODE_TX_RX ;

	MCAL_USART_Init(&USART_ConFig,USART1);
	MCAL_USART_SetPins(USART1);
	while(1)
	{

		MCAL_USART_Recieve(USART1, &ch, Enable);
		MCAL_USART_Send(USART1, &ch, Enable);

	}
}

